<!DOCTYPE html>
<html>
<head>
	<title>color plot</title>
	<style type="text/css">
		canvas{outline: 1px solid blue;}
	</style>
</head>
<body>
	<!-- <canvas width="500" height="500" id="container"></canvas> -->
	<script type="x-shader/x-vertex" id="vertexshader">
attribute vec4 c;
varying vec4 vc;

void main() {
  vc = c;
  gl_Position = projectionMatrix *
                modelViewMatrix *
                vec4(position,1.0);
}
</script>
<script type="x-shader/x-fragment" id="fragmentshader">
varying vec4 vc;

void main() {
	gl_FragColor = vec4(vc);
}
</script>

<script type="text/javascript" src="/three.js/three.js"></script>
<script type="text/javascript">

// particles
attributes = {
	c:{
		type: 'c', 
		value: []
	},
};

uniforms = {};

var shaderMaterial = new THREE.ShaderMaterial( {

	uniforms: 		uniforms,
	attributes:     attributes,
	vertexShader:   document.getElementById( 'vertexshader' ).textContent,
	fragmentShader: document.getElementById( 'fragmentshader' ).textContent,

	blending: 		THREE.NormalBlending,
	depthTest: 		true,
	transparent:	false,
	
});


		// container = document.getElementById( 'container' );
var width = window.innerWidth;
var height = window.innerHeight;

var renderer = new THREE.WebGLRenderer({ antialias: true });
renderer.setSize(width, height);
renderer.setClearColor(0xf5f5f5, 1);
document.body.appendChild(renderer.domElement);


scene = new THREE.Scene();

camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 1, 10000 );
camera.position.z = 1000;

var radius = 200;
var geometry = new THREE.Geometry();

for ( var i = 0; i < 10000; i ++ ) {

	var vertex = new THREE.Vector3();
	vertex.x = Math.random() * 2 - 1;
	vertex.y = Math.random() * 2 - 1;
	vertex.z = Math.random() * 2 - 1;
	vertex.z = 0;
	vertex.multiplyScalar( radius );

	geometry.vertices.push( vertex );

	attributes.c.value.push(new THREE.Color( 0xffffff*Math.random() ));

}

particles = new THREE.ParticleSystem( geometry, shaderMaterial );

scene.add(particles)


function render() {
  requestAnimationFrame(render);

  particles.rotation.y += 0.002;
  
  renderer.render(scene, camera);
}

render()


	</script>
</body>
</html>